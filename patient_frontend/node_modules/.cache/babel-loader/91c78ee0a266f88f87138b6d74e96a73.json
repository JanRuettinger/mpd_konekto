{"ast":null,"code":"var _jsxFileName = \"/patient_frontend/src/src/Views/Home/MiscButton.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Button from '../../custom_theme/components/Button'; //import { connect } from 'react-redux';\n\nclass MiscButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.classes = props.classes;\n    this.state = {\n      timerOn: false,\n      type: props.type\n    };\n    this.timerStart = this.timerStart.bind(this);\n    this.timerStop = this.timerStop.bind(this);\n    this.tick = this.tick.bind(this);\n    this.counter = 3;\n    this.counterStep = 1;\n  }\n\n  timerStart() {\n    //this.timerID = setInterval(() => this.tick(), 1000);\n    //this.setState({ timerOn: true });\n    this.props.onSubmit(this.props.type, false);\n  }\n\n  timerStop() {\n    clearInterval(this.timerID);\n    this.counter = 3;\n    this.setState({\n      timerOn: false\n    });\n    this.props.history.push('/');\n    console.log('INSIDE timer STOP' + this.props.type + true);\n    this.props.onSubmit(this.props.type, true);\n  }\n\n  tick() {\n    this.counter = this.counter - this.counterStep;\n\n    if (this.counter <= 0) {\n      this.setState({\n        timerOn: false\n      });\n      this.timerStop();\n      this.props.onSubmit(this.props.cancel);\n      this.props.history.push('/emergency_sent');\n    } else {\n      this.setState({\n        timerOn: true\n      });\n    }\n\n    console.log(this.counter);\n  }\n\n  render() {\n    let timerOn = this.state.timerOn;\n    let button;\n\n    if (timerOn) {\n      button = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, ' ', \"You have \", this.counter, \" seconds to cancel the emergency SOS.\", ' '), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(Button, {\n        size: \"large\",\n        color: \"primary\",\n        variant: \"text\",\n        onClick: this.timerStop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Cancel emergency\"));\n    } else {\n      button = React.createElement(Button, {\n        size: \"medium\",\n        style: {\n          color: 'white',\n          backgroundColor: 'grey'\n        },\n        variant: \"text\",\n        onClick: this.timerStart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Further Emergency Services\");\n    }\n\n    return button;\n  }\n\n}\n\nexport default withRouter(MiscButton); // export default withStyles(styles)(SOSButton);\n//export default withStyles(withRouter(SOSButton));\n//<Button className=\"emergencybutton\" onClick={this.timerStart}>","map":{"version":3,"sources":["/patient_frontend/src/src/Views/Home/MiscButton.js"],"names":["React","withRouter","Button","MiscButton","Component","constructor","props","classes","state","timerOn","type","timerStart","bind","timerStop","tick","counter","counterStep","onSubmit","clearInterval","timerID","setState","history","push","console","log","cancel","render","button","color","backgroundColor"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,sCAAnB,C,CACA;;AAEA,MAAMC,UAAN,SAAyBH,KAAK,CAACI,SAA/B,CAAyC;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,OAAL,GAAeD,KAAK,CAACC,OAArB;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,KADE;AAEXC,MAAAA,IAAI,EAAEJ,KAAK,CAACI;AAFD,KAAb;AAIA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKE,IAAL,GAAY,KAAKA,IAAL,CAAUF,IAAV,CAAe,IAAf,CAAZ;AACA,SAAKG,OAAL,GAAe,CAAf;AACA,SAAKC,WAAL,GAAmB,CAAnB;AACD;;AAEDL,EAAAA,UAAU,GAAG;AACX;AACA;AACA,SAAKL,KAAL,CAAWW,QAAX,CAAoB,KAAKX,KAAL,CAAWI,IAA/B,EAAqC,KAArC;AACD;;AAEDG,EAAAA,SAAS,GAAG;AACVK,IAAAA,aAAa,CAAC,KAAKC,OAAN,CAAb;AACA,SAAKJ,OAAL,GAAe,CAAf;AACA,SAAKK,QAAL,CAAc;AAAEX,MAAAA,OAAO,EAAE;AAAX,KAAd;AACA,SAAKH,KAAL,CAAWe,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAsB,KAAKlB,KAAL,CAAWI,IAAjC,GAAwC,IAApD;AACA,SAAKJ,KAAL,CAAWW,QAAX,CAAoB,KAAKX,KAAL,CAAWI,IAA/B,EAAqC,IAArC;AACD;;AAEDI,EAAAA,IAAI,GAAG;AACL,SAAKC,OAAL,GAAe,KAAKA,OAAL,GAAe,KAAKC,WAAnC;;AACA,QAAI,KAAKD,OAAL,IAAgB,CAApB,EAAuB;AACrB,WAAKK,QAAL,CAAc;AAAEX,QAAAA,OAAO,EAAE;AAAX,OAAd;AACA,WAAKI,SAAL;AACA,WAAKP,KAAL,CAAWW,QAAX,CAAoB,KAAKX,KAAL,CAAWmB,MAA/B;AACA,WAAKnB,KAAL,CAAWe,OAAX,CAAmBC,IAAnB,CAAwB,iBAAxB;AACD,KALD,MAKO;AACL,WAAKF,QAAL,CAAc;AAAEX,QAAAA,OAAO,EAAE;AAAX,OAAd;AACD;;AACDc,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,OAAjB;AACD;;AAEDW,EAAAA,MAAM,GAAG;AACP,QAAIjB,OAAO,GAAG,KAAKD,KAAL,CAAWC,OAAzB;AACA,QAAIkB,MAAJ;;AAEA,QAAIlB,OAAJ,EAAa;AACXkB,MAAAA,MAAM,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAG,QAAA,SAAS,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,GADH,eAEY,KAAKZ,OAFjB,2CAE+D,GAF/D,CAFF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,EAOE,oBAAC,MAAD;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,KAAK,EAAC,SAFR;AAGE,QAAA,OAAO,EAAC,MAHV;AAIE,QAAA,OAAO,EAAE,KAAKF,SAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAPF,CADF;AAkBD,KAnBD,MAmBO;AACLc,MAAAA,MAAM,GACJ,oBAAC,MAAD;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE,OAAT;AAAkBC,UAAAA,eAAe,EAAE;AAAnC,SAFT;AAGE,QAAA,OAAO,EAAC,MAHV;AAIE,QAAA,OAAO,EAAE,KAAKlB,UAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADF;AAUD;;AACD,WAAOgB,MAAP;AACD;;AA/EsC;;AAkFzC,eAAe1B,UAAU,CAACE,UAAD,CAAzB,C,CACA;AACA;AACA","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Button from '../../custom_theme/components/Button';\n//import { connect } from 'react-redux';\n\nclass MiscButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.classes = props.classes;\n    this.state = {\n      timerOn: false,\n      type: props.type\n    };\n    this.timerStart = this.timerStart.bind(this);\n    this.timerStop = this.timerStop.bind(this);\n    this.tick = this.tick.bind(this);\n    this.counter = 3;\n    this.counterStep = 1;\n  }\n\n  timerStart() {\n    //this.timerID = setInterval(() => this.tick(), 1000);\n    //this.setState({ timerOn: true });\n    this.props.onSubmit(this.props.type, false);\n  }\n\n  timerStop() {\n    clearInterval(this.timerID);\n    this.counter = 3;\n    this.setState({ timerOn: false });\n    this.props.history.push('/');\n    console.log('INSIDE timer STOP' + this.props.type + true);\n    this.props.onSubmit(this.props.type, true);\n  }\n\n  tick() {\n    this.counter = this.counter - this.counterStep;\n    if (this.counter <= 0) {\n      this.setState({ timerOn: false });\n      this.timerStop();\n      this.props.onSubmit(this.props.cancel);\n      this.props.history.push('/emergency_sent');\n    } else {\n      this.setState({ timerOn: true });\n    }\n    console.log(this.counter);\n  }\n\n  render() {\n    let timerOn = this.state.timerOn;\n    let button;\n\n    if (timerOn) {\n      button = (\n        <div>\n          <br />\n          <p textAlign=\"center\">\n            {' '}\n            You have {this.counter} seconds to cancel the emergency SOS.{' '}\n          </p>\n          <br />\n          <Button\n            size=\"large\"\n            color=\"primary\"\n            variant=\"text\"\n            onClick={this.timerStop}\n          >\n            Cancel emergency\n          </Button>\n        </div>\n      );\n    } else {\n      button = (\n        <Button\n          size=\"medium\"\n          style={{ color: 'white', backgroundColor: 'grey' }}\n          variant=\"text\"\n          onClick={this.timerStart}\n        >\n          Further Emergency Services\n        </Button>\n      );\n    }\n    return button;\n  }\n}\n\nexport default withRouter(MiscButton);\n// export default withStyles(styles)(SOSButton);\n//export default withStyles(withRouter(SOSButton));\n//<Button className=\"emergencybutton\" onClick={this.timerStart}>\n"]},"metadata":{},"sourceType":"module"}